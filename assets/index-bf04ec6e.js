import{k as t,q as p,I as f,L as h,T as s,t as b,v as _,r as N}from"./index-4c408cd6.js";import{d as y,C as k}from"./ArrowBackIosNewRounded-fc4f30e7.js";import{A as C,T as g,e as v,f as x}from"./graphql-22cb00e7.js";function I(){return t(C,{position:"sticky",children:p(g,{children:[t(f,{component:h,to:"/","aria-label":"Go back to contact list",color:"inherit",children:t(y,{})}),t(s,{variant:"h1",children:"Edit contact"})]})})}const T={firstName:"",lastName:"",phones:[""]};function B(){const r=b(),c=_(),o=Number(c.id)??0,{loading:m,data:n}=v({variables:{id:o}}),i=N.useMemo(()=>{if(!(n!=null&&n.contact_by_pk))return T;const a=n.contact_by_pk;return{firstName:a.first_name,lastName:a.last_name,phones:a.phones.map(e=>e.number)}},[n]),[d]=x();async function l(a){const{data:e}=await d({variables:{id:o,contact:{first_name:a.firstName.trim(),last_name:a.lastName.trim()},delete_phones:{number:{_in:i.phones}},add_phones:a.phones.map(u=>({contact_id:o,number:u}))}});e&&r("/")}return m?t(s,{children:"loading..."}):n?t(k,{initialValues:i,onSubmit:l,header:t(I,{}),contactId:o}):t(s,{children:"No data..."})}export{B as Component};
